<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜ë©´ MBTI ê²€ì‚¬ ê²°ê³¼</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-api-base="https://soobo.sijun.dev/api">
    <div class="mobile-container">
        <main id="main">
            <h3 id="result-type">ë‹¹ì‹ ì˜ ìˆ˜ë©´ ìœ í˜•ì€</h3>
            <h1 id="result-name">ê²°ê³¼ ì´ë¦„</h1>
            <img id="result-img" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€">
            <p id="result-desc">ê²°ê³¼ì— ëŒ€í•œ ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
            <div class="button-container">
                <button id="retry-btn" onclick="retryTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
                <button id="share-btn" onclick="shareResult()">ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
            </div>
        </main>
    </div>

    <script>
        // --- ê¸°ëŠ¥ êµ¬í˜„ ë¶€ë¶„ ---

        // í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
        window.onload = function() {
            // URLì—ì„œ ê²°ê³¼ íŒŒë¼ë¯¸í„° ê°’ë“¤ ê°€ì ¸ì˜¤ê¸°
            const urlParams = new URLSearchParams(window.location.search);
            const type = urlParams.get('type');
            const morning = urlParams.get('morning');
            const control = urlParams.get('control');
            const rhythm = urlParams.get('rhythm');
            const recovery = urlParams.get('recovery');

            if (type) {
                // HTML ìš”ì†Œì— ê²°ê³¼ ë°ì´í„° ì±„ìš°ê¸°
                document.getElementById('result-type').textContent = `ë‹¹ì‹ ì˜ ìˆ˜ë©´ ìœ í˜•ì€`;
                document.getElementById('result-name').textContent = type;
                document.getElementById('result-img').src = 'https://images.unsplash.com/photo-1501504905252-473c47e087f8?q=80&w=1974';
                document.getElementById('result-img').alt = type;
                
                // ìƒì„¸ ì„¤ëª… ìƒì„±
                const description = generateDescription(morning, control, rhythm, recovery);
                document.getElementById('result-desc').textContent = description;
            } else {
                // ìœ íš¨í•˜ì§€ ì•Šì€ ê²°ê³¼ ê°’ì¼ ê²½ìš° ê¸°ë³¸ ë©”ì‹œì§€ í‘œì‹œ
                document.getElementById('result-name').textContent = 'ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                document.getElementById('result-desc').textContent = 'í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹œì‘í•´ì£¼ì„¸ìš”.';
            }
        };

        // ê²°ê³¼ ì„¤ëª… ìƒì„± í•¨ìˆ˜
        function generateDescription(morning, control, rhythm, recovery) {
            // ê° ì¶•ë³„ ê¸°ë³¸ ì„¤ëª…
            const axisDescriptions = {
                'morning': 'ë‹¹ì‹ ì€ ì•„ì¹¨í˜• ì¸ê°„ì…ë‹ˆë‹¤. ì´ë¥¸ ì•„ì¹¨ì— ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  ê·œì¹™ì ì¸ ìƒí™œì„ ì„ í˜¸í•©ë‹ˆë‹¤.',
                'night': 'ë‹¹ì‹ ì€ ì•¼í–‰í˜• ì¸ê°„ì…ë‹ˆë‹¤. ë°¤ì— ì§‘ì¤‘ë ¥ì´ ë†’ì•„ì§€ê³  ììœ ë¡œìš´ ìƒí™œì„ ì¦ê¹ë‹ˆë‹¤.',
                'controlled': 'ë‹¹ì‹ ì€ ìê¸° í†µì œë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ê³„íšì ì¸ ìˆ˜ë©´ íŒ¨í„´ì„ ìœ ì§€í•˜ëŠ” í¸ì…ë‹ˆë‹¤.',
                'free': 'ë‹¹ì‹ ì€ ììœ ë¡œìš´ ì˜í˜¼ì…ë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ìˆ˜ë©´ íŒ¨í„´ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.',
                'rhythmic': 'ë‹¹ì‹ ì€ ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ê°€ í¬ì§€ ì•ŠìŠµë‹ˆë‹¤.',
                'jetlag': 'ë‹¹ì‹ ì€ ì‚¬íšŒì  ì‹œì°¨ë¥¼ ê²½í—˜í•©ë‹ˆë‹¤. ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ìˆ˜ë©´ íŒ¨í„´ì´ í¬ê²Œ ë‹¤ë¦…ë‹ˆë‹¤.',
                'well-rested': 'ë‹¹ì‹ ì€ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ìˆ˜ë©´ì— ëŒ€í•œ ë§Œì¡±ë„ê°€ ë†’ìŠµë‹ˆë‹¤.',
                'deprived': 'ë‹¹ì‹ ì€ ìˆ˜ë©´ ë¶€ì¡±ì„ ê²½í—˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë” ë‚˜ì€ ìˆ˜ë©´ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.'
            };

            // ìˆ˜ë©´ ìœ í˜•ë³„ ìƒì„¸ ì„¤ëª…
            const typeDescriptions = {
                'ğŸŒ ì•„ì¹¨ í–‡ì‚´ ì¥ì¸ (ENTJ)': 'ë‹¹ì‹ ì€ ì™„ë²½í•œ ì•„ì¹¨í˜• ì¸ê°„ì˜ í‘œë³¸ì…ë‹ˆë‹¤! ì´ë¥¸ ì•„ì¹¨ë¶€í„° ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³ , ê³„íšì ì¸ ìˆ˜ë©´ íŒ¨í„´ìœ¼ë¡œ ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ë„ ì ìŠµë‹ˆë‹¤. ì¶©ë¶„í•œ ìˆ˜ë©´ìœ¼ë¡œ ë§¤ì¼ ìƒì¾Œí•˜ê²Œ ì‹œì‘í•˜ëŠ” ë‹¹ì‹ ì€ ì •ë§ ë¶€ëŸ½ë„¤ìš”. ì•„ì¹¨ ìš´ë™, ë…ì„œ, ëª…ìƒ ë“± ì•„ì¹¨ ì‹œê°„ì„ í™œìš©í•œ ìê¸°ê³„ë°œì— ë„ì „í•´ë³´ì„¸ìš”!',
                
                'â° ì¡¸ë¦° ì•ŒëŒ íŒŒì´í„° (ISFJ)': 'ì•„ì¹¨í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ê·œì¹™ì ì¸ ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ì¶©ë¶„í•œ ìˆ˜ë©´ ì‹œê°„ì´ ë¶€ì¡±í•œ ìƒí™©ì…ë‹ˆë‹¤. ì·¨ì¹¨ ì‹œê°„ì„ 30ë¶„ ì•ë‹¹ê¸°ê±°ë‚˜, ìˆ˜ë©´ í™˜ê²½ì„ ê°œì„ í•´ë³´ì„¸ìš”. ì•„ì¹¨ì˜ ìƒì¾Œí•¨ì„ ì œëŒ€ë¡œ ëŠë‚„ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ›« ì¶œê·¼ ëª¨ë“œ ë§ˆìŠ¤í„° (ENTJ)': 'ì•„ì¹¨í˜•ì´ë©´ì„œ ê³„íšì ì¸ ìˆ˜ë©´ì„ ì„ í˜¸í•˜ì§€ë§Œ, ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ê°€ í° ë‹¹ì‹ ! ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆì–´ì„œ í‰ì¼ ì¶œê·¼ì€ ë¬¸ì œì—†ì§€ë§Œ, ì£¼ë§ì—ë„ ì¼ì •í•œ ì‹œê°„ì— ì¼ì–´ë‚˜ë ¤ê³  ë…¸ë ¥í•´ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ë”ìš± ì™„ë²½í•œ ì•„ì¹¨í˜• ì¸ê°„ì´ ë  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ¥± ì–µì§€ ë¶€ì§€ëŸ°ëŸ¬ (ISFJ)': 'ì•„ì¹¨í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ê³¼ ë¶ˆê·œì¹™í•œ íŒ¨í„´ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ê³„íšì ì´ì§€ë§Œ ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ê°€ í¬ê³  ìˆ˜ë©´ë„ ë¶€ì¡±í•©ë‹ˆë‹¤. ì·¨ì¹¨ ì‹œê°„ì„ ì¼ì •í•˜ê²Œ ë§ì¶”ê³ , ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë ¤ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ì§„ì •í•œ ì•„ì¹¨ í–‡ì‚´ ì¥ì¸ì´ ë  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ¦ ì•„ì¹¨ ì‚°ì±…ëŸ¬ (ISFP)': 'ììœ ë¡œìš´ ì•„ì¹¨í˜• ì¸ê°„! ì´ë¥¸ ì•„ì¹¨ì— ì—ë„ˆì§€ê°€ ë„˜ì¹˜ì§€ë§Œ ìœ ì—°í•œ ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ìœ¼ë¡œ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆì–´ì„œ ì •ë§ ê±´ê°•í•œ ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆë„¤ìš”. ì•„ì¹¨ ì‚°ì±…ì´ë‚˜ ìš”ê°€ ê°™ì€ í™œë™ì„ ì¦ê²¨ë³´ì„¸ìš”!',
                
                'ğŸ˜µ ì•„ì¹¨ ë¹„í‹€ì´ (ENFP)': 'ì•„ì¹¨í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ìœ¼ë¡œ ë¹„í‹€ê±°ë¦¬ëŠ” ë‹¹ì‹ ! ììœ ë¡œìš´ ìˆ˜ë©´ íŒ¨í„´ê³¼ ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ìˆ˜ë©´ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ì·¨ì¹¨ ì‹œê°„ì„ ì¡°ê¸ˆ ë” ì¼ì •í•˜ê²Œ ë§ì¶”ê³  ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë ¤ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ì•„ì¹¨ì˜ ìƒì¾Œí•¨ì„ ì œëŒ€ë¡œ ëŠë‚„ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸŒ ê¸€ë¡œë²Œ ì–¼ë¦¬ë²„ë“œ (ESFP)': 'ì•„ì¹¨í˜•ì´ë©´ì„œ ììœ ë¡œìš´ ì˜í˜¼! ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ìˆ˜ë©´ íŒ¨í„´ì´ í¬ê²Œ ë‹¤ë¥´ì§€ë§Œ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ì‹œê°„ëŒ€ì—ì„œë„ ì ì‘í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ê°€ì§€ê³  ìˆë„¤ìš”. ì—¬í–‰ì´ë‚˜ ê¸€ë¡œë²Œ ì—…ë¬´ì— ì í•©í•œ ìˆ˜ë©´ íŒ¨í„´ì…ë‹ˆë‹¤.',
                
                'ğŸ™ƒ ì•„ì¹¨ ì¢€ë¹„í˜• (ENFP)': 'ì•„ì¹¨í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ê³¼ ë¶ˆê·œì¹™í•œ íŒ¨í„´ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ììœ ë¡œìš´ ìˆ˜ë©´ íŒ¨í„´ê³¼ ì£¼ì¤‘/ì£¼ë§ ì°¨ì´ë¡œ ì¸í•´ ìˆ˜ë©´ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ê·œì¹™ì ì¸ ì·¨ì¹¨ ì‹œê°„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ì•„ì¹¨ì˜ ì—ë„ˆì§€ë¥¼ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸŒ™ ë‹¬ë¹› ì›Œì»¤í™€ë¦­ (ESTP)': 'ì™„ë²½í•œ ì•¼í–‰í˜• ì¸ê°„! ë°¤ì— ì§‘ì¤‘ë ¥ì´ ë†’ì•„ì§€ê³  ê³„íšì ì¸ ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ìœ¼ë¡œ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆì–´ì„œ ì •ë§ íš¨ìœ¨ì ì¸ ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆë„¤ìš”. ë°¤ì˜ ê³ ìš”í•¨ì„ í™œìš©í•œ ì°½ì‘ í™œë™ì´ë‚˜ ê³µë¶€ì— ë„ì „í•´ë³´ì„¸ìš”!',
                
                'ğŸ’¼ ì•¼ê·¼í˜• ë¶€ìŠ¤í„° (ESTP)': 'ì•¼í–‰í˜•ì´ë©´ì„œ ê³„íšì ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ìˆ˜ë©´ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ë°¤ì˜ ì§‘ì¤‘ë ¥ì„ í™œìš©í•œ ì—…ë¬´ íš¨ìœ¨ì„±ì„ ë†’ì—¬ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ë”ìš± ì™„ë²½í•œ ì•¼í–‰í˜• ì¸ê°„ì´ ë  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ›°ï¸ ë°¤ì˜ ê¸€ë¡œë²ŒëŸ¬ (ENTJ)': 'ì•¼í–‰í˜•ì´ë©´ì„œ ê³„íšì ì´ê³  ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ëŠ” ë‹¹ì‹ ! ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ê°€ í¬ì§€ë§Œ ìˆ˜ë©´ì€ ì¶©ë¶„í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì‹œê°„ëŒ€ì—ì„œë„ ì ì‘í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ê°€ì§€ê³  ìˆë„¤ìš”. ê¸€ë¡œë²Œ ì—…ë¬´ë‚˜ ì°½ì‘ í™œë™ì— ì í•©í•œ ìˆ˜ë©´ íŒ¨í„´ì…ë‹ˆë‹¤.',
                
                'ğŸ˜µâ€ğŸ’« ëŠ¦ë°¤ ìƒì¡´ëŸ¬ (ISFJ)': 'ì•¼í–‰í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ê³¼ ë¶ˆê·œì¹™í•œ íŒ¨í„´ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ê³„íšì ì´ì§€ë§Œ ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ì°¨ì´ê°€ í¬ê³  ìˆ˜ë©´ë„ ë¶€ì¡±í•©ë‹ˆë‹¤. ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ê·œì¹™ì ì¸ ì·¨ì¹¨ ì‹œê°„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ë°¤ì˜ ì§‘ì¤‘ë ¥ì„ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ¦‰ ìƒˆë²½ ê°ì„±ëŸ¬ (INFJ)': 'ììœ ë¡œìš´ ì•¼í–‰í˜• ì¸ê°„! ë°¤ì— ì§‘ì¤‘ë ¥ì´ ë†’ì•„ì§€ê³  ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆì–´ì„œ ì •ë§ ê±´ê°•í•œ ì•¼í–‰í˜• ìˆ˜ë©´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆë„¤ìš”. ìƒˆë²½ì˜ ê³ ìš”í•¨ì„ í™œìš©í•œ ì°½ì‘ í™œë™ì´ë‚˜ ëª…ìƒì„ ì¦ê²¨ë³´ì„¸ìš”!',
                
                'ğŸ¥´ ìƒˆë²½ í›„íšŒëŸ¬ (ENFP)': 'ì•¼í–‰í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ììœ ë¡œìš´ ìˆ˜ë©´ íŒ¨í„´ê³¼ ìì—°ìŠ¤ëŸ¬ìš´ ìƒì²´ ë¦¬ë“¬ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ìˆ˜ë©´ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ì·¨ì¹¨ ì‹œê°„ì„ ì¡°ê¸ˆ ë” ì¼ì •í•˜ê²Œ ë§ì¶°ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ìƒˆë²½ì˜ ê°ì„±ì„ ì œëŒ€ë¡œ ëŠë‚„ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.',
                
                'ğŸ¨ ë°¤ì˜ í¬ë¦¬ì—ì´í„° (INTP)': 'ì•¼í–‰í˜•ì´ë©´ì„œ ììœ ë¡œìš´ ì˜í˜¼! ì£¼ì¤‘ê³¼ ì£¼ë§ì˜ ìˆ˜ë©´ íŒ¨í„´ì´ í¬ê²Œ ë‹¤ë¥´ì§€ë§Œ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë°¤ì˜ ì§‘ì¤‘ë ¥ê³¼ ì°½ì˜ì„±ì„ í™œìš©í•œ ì°½ì‘ í™œë™ì— ë„ì „í•´ë³´ì„¸ìš”. ì˜ˆìˆ ê°€ë‚˜ í¬ë¦¬ì—ì´í„°ì—ê²Œ ì í•©í•œ ìˆ˜ë©´ íŒ¨í„´ì…ë‹ˆë‹¤.',
                
                'ğŸ”¥ ìƒˆë²½ ë°©í™©ëŸ¬ (ENFP)': 'ì•¼í–‰í˜•ì´ì§€ë§Œ ìˆ˜ë©´ ë¶€ì¡±ê³¼ ë¶ˆê·œì¹™í•œ íŒ¨í„´ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ë‹¹ì‹ ! ììœ ë¡œìš´ ìˆ˜ë©´ íŒ¨í„´ê³¼ ì£¼ì¤‘/ì£¼ë§ ì°¨ì´ë¡œ ì¸í•´ ìˆ˜ë©´ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ìˆ˜ë©´ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ê·œì¹™ì ì¸ ì·¨ì¹¨ ì‹œê°„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”. ê·¸ëŸ¬ë©´ ë°¤ì˜ ì°½ì˜ì„±ì„ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.'
            };

            // URLì—ì„œ ìˆ˜ë©´ ìœ í˜• ê°€ì ¸ì˜¤ê¸°
            const urlParams = new URLSearchParams(window.location.search);
            const sleepType = urlParams.get('type');
            
            // ìˆ˜ë©´ ìœ í˜•ë³„ ìƒì„¸ ì„¤ëª…ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ì¶•ë³„ ì„¤ëª… ì¡°í•©
            if (typeDescriptions[sleepType]) {
                return typeDescriptions[sleepType];
            } else {
                return `${axisDescriptions[morning]} ${axisDescriptions[control]} ${axisDescriptions[rhythm]} ${axisDescriptions[recovery]}`;
            }
        }

        // 'ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ index.htmlë¡œ ì´ë™
        function retryTest() {
            window.location.href = 'index.html';
        }

        // ê²°ê³¼ ê³µìœ í•˜ê¸° í•¨ìˆ˜
        function shareResult() {
            const resultName = document.getElementById('result-name').textContent;
            const resultDesc = document.getElementById('result-desc').textContent;
            
            // ê³µìœ í•  í…ìŠ¤íŠ¸ êµ¬ì„±
            const shareText = `ğŸŒ™ ìˆ˜ë©´ MBTI ê²°ê³¼ ğŸŒ™\n\n${resultName}\n\n${resultDesc}\n\në‚˜ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”! ğŸ‘‰ ${window.location.origin}`;
            
            // í´ë¦½ë³´ë“œì— ë³µì‚¬
            if (navigator.clipboard && window.isSecureContext) {
                // ëª¨ë˜ ë¸Œë¼ìš°ì €ì—ì„œ í´ë¦½ë³´ë“œ API ì‚¬ìš©
                navigator.clipboard.writeText(shareText).then(() => {
                    showShareSuccess();
                }).catch(() => {
                    fallbackCopyTextToClipboard(shareText);
                });
            } else {
                // êµ¬í˜• ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ fallback
                fallbackCopyTextToClipboard(shareText);
            }
        }

        // êµ¬í˜• ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ í´ë¦½ë³´ë“œ ë³µì‚¬ í•¨ìˆ˜
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showShareSuccess();
                } else {
                    showShareError();
                }
            } catch (err) {
                showShareError();
            }
            
            document.body.removeChild(textArea);
        }

        // ê³µìœ  ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showShareSuccess() {
            const shareBtn = document.getElementById('share-btn');
            const originalText = shareBtn.textContent;
            
            shareBtn.textContent = 'ë³µì‚¬ ì™„ë£Œ! ğŸ“‹';
            shareBtn.style.background = 'rgba(76, 175, 80, 0.8)';
            shareBtn.style.borderColor = 'rgba(76, 175, 80, 0.8)';
            
            setTimeout(() => {
                shareBtn.textContent = originalText;
                shareBtn.style.background = 'rgba(255, 255, 255, 0.1)';
                shareBtn.style.borderColor = 'rgba(255, 255, 255, 0.3)';
            }, 2000);
        }

        // ê³µìœ  ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
        function showShareError() {
            const shareBtn = document.getElementById('share-btn');
            const originalText = shareBtn.textContent;
            
            shareBtn.textContent = 'ë³µì‚¬ ì‹¤íŒ¨ ğŸ˜¢';
            shareBtn.style.background = 'rgba(244, 67, 54, 0.8)';
            shareBtn.style.borderColor = 'rgba(244, 67, 54, 0.8)';
            
            setTimeout(() => {
                shareBtn.textContent = originalText;
                shareBtn.style.background = 'rgba(255, 255, 255, 0.1)';
                shareBtn.style.borderColor = 'rgba(255, 255, 255, 0.3)';
            }, 2000);
        }
    </script>
</body>
</html>