<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>수면 MBTI 검사 결과</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="mobile-container">
        <main id="main">
            <h3 id="result-type">당신의 수면 유형은</h3>
            <h1 id="result-name">결과 이름</h1>
            <img id="result-img" src="" alt="결과 이미지">
            <p id="result-desc">결과에 대한 설명이 여기에 표시됩니다.</p>
            <div class="button-container">
                <button id="retry-btn" onclick="retryTest()">다시 테스트하기</button>
                <button id="share-btn">결과 공유하기</button>
            </div>
        </main>
    </div>

    <script>
        // --- 기능 구현 부분 ---

        // 페이지가 로드될 때 실행되는 함수
        window.onload = function() {
            // URL에서 결과 파라미터 값들 가져오기
            const urlParams = new URLSearchParams(window.location.search);
            const type = urlParams.get('type');
            const morning = urlParams.get('morning');
            const control = urlParams.get('control');
            const rhythm = urlParams.get('rhythm');
            const recovery = urlParams.get('recovery');

            if (type) {
                // HTML 요소에 결과 데이터 채우기
                document.getElementById('result-type').textContent = `당신의 수면 유형은`;
                document.getElementById('result-name').textContent = type;
                document.getElementById('result-img').src = 'https://images.unsplash.com/photo-1501504905252-473c47e087f8?q=80&w=1974';
                document.getElementById('result-img').alt = type;
                
                // 상세 설명 생성
                const description = generateDescription(morning, control, rhythm, recovery);
                document.getElementById('result-desc').textContent = description;
            } else {
                // 유효하지 않은 결과 값일 경우 기본 메시지 표시
                document.getElementById('result-name').textContent = '결과를 찾을 수 없습니다.';
                document.getElementById('result-desc').textContent = '테스트를 다시 시작해주세요.';
            }
        };

        // 결과 설명 생성 함수
        function generateDescription(morning, control, rhythm, recovery) {
            // 각 축별 기본 설명
            const axisDescriptions = {
                'morning': '당신은 아침형 인간입니다. 이른 아침에 에너지가 넘치고 규칙적인 생활을 선호합니다.',
                'night': '당신은 야행형 인간입니다. 밤에 집중력이 높아지고 자유로운 생활을 즐깁니다.',
                'controlled': '당신은 자기 통제력이 뛰어납니다. 계획적인 수면 패턴을 유지하는 편입니다.',
                'free': '당신은 자유로운 영혼입니다. 상황에 따라 유연하게 수면 패턴을 조절합니다.',
                'rhythmic': '당신은 자연스러운 생체 리듬을 가지고 있습니다. 주중과 주말의 차이가 크지 않습니다.',
                'jetlag': '당신은 사회적 시차를 경험합니다. 주중과 주말의 수면 패턴이 크게 다릅니다.',
                'well-rested': '당신은 충분한 수면을 취하고 있습니다. 수면에 대한 만족도가 높습니다.',
                'deprived': '당신은 수면 부족을 경험하고 있습니다. 더 나은 수면 관리가 필요합니다.'
            };

            // 수면 유형별 상세 설명
            const typeDescriptions = {
                '🌞 아침 햇살 장인 (ENTJ)': '당신은 완벽한 아침형 인간의 표본입니다! 이른 아침부터 에너지가 넘치고, 계획적인 수면 패턴으로 주중과 주말의 차이도 적습니다. 충분한 수면으로 매일 상쾌하게 시작하는 당신은 정말 부럽네요. 아침 운동, 독서, 명상 등 아침 시간을 활용한 자기계발에 도전해보세요!',
                
                '⏰ 졸린 알람 파이터 (ISFJ)': '아침형이지만 수면 부족으로 고민하는 당신! 규칙적인 수면 패턴을 가지고 있지만 충분한 수면 시간이 부족한 상황입니다. 취침 시간을 30분 앞당기거나, 수면 환경을 개선해보세요. 아침의 상쾌함을 제대로 느낄 수 있을 거예요.',
                
                '🛫 출근 모드 마스터 (ENTJ)': '아침형이면서 계획적인 수면을 선호하지만, 주중과 주말의 차이가 큰 당신! 충분한 수면을 취하고 있어서 평일 출근은 문제없지만, 주말에도 일정한 시간에 일어나려고 노력해보세요. 그러면 더욱 완벽한 아침형 인간이 될 수 있을 거예요.',
                
                '🥱 억지 부지런러 (ISFJ)': '아침형이지만 수면 부족과 불규칙한 패턴으로 고민하는 당신! 계획적이지만 주중과 주말의 차이가 크고 수면도 부족합니다. 취침 시간을 일정하게 맞추고, 수면 시간을 늘려보세요. 그러면 진정한 아침 햇살 장인이 될 수 있을 거예요.',
                
                '🐦 아침 산책러 (ISFP)': '자유로운 아침형 인간! 이른 아침에 에너지가 넘치지만 유연한 수면 패턴을 가지고 있습니다. 자연스러운 생체 리듬으로 충분한 수면을 취하고 있어서 정말 건강한 수면 패턴을 가지고 있네요. 아침 산책이나 요가 같은 활동을 즐겨보세요!',
                
                '😵 아침 비틀이 (ENFP)': '아침형이지만 수면 부족으로 비틀거리는 당신! 자유로운 수면 패턴과 자연스러운 생체 리듬을 가지고 있지만 수면이 부족합니다. 취침 시간을 조금 더 일정하게 맞추고 수면 시간을 늘려보세요. 그러면 아침의 상쾌함을 제대로 느낄 수 있을 거예요.',
                
                '🌍 글로벌 얼리버드 (ESFP)': '아침형이면서 자유로운 영혼! 주중과 주말의 수면 패턴이 크게 다르지만 충분한 수면을 취하고 있습니다. 다양한 시간대에서도 적응할 수 있는 유연성을 가지고 있네요. 여행이나 글로벌 업무에 적합한 수면 패턴입니다.',
                
                '🙃 아침 좀비형 (ENFP)': '아침형이지만 수면 부족과 불규칙한 패턴으로 고민하는 당신! 자유로운 수면 패턴과 주중/주말 차이로 인해 수면이 부족합니다. 수면 시간을 늘리고 규칙적인 취침 시간을 만들어보세요. 그러면 아침의 에너지를 제대로 활용할 수 있을 거예요.',
                
                '🌙 달빛 워커홀릭 (ESTP)': '완벽한 야행형 인간! 밤에 집중력이 높아지고 계획적인 수면 패턴을 가지고 있습니다. 자연스러운 생체 리듬으로 충분한 수면을 취하고 있어서 정말 효율적인 수면 패턴을 가지고 있네요. 밤의 고요함을 활용한 창작 활동이나 공부에 도전해보세요!',
                
                '💼 야근형 부스터 (ESTP)': '야행형이면서 계획적이지만 수면 부족으로 고민하는 당신! 자연스러운 생체 리듬을 가지고 있지만 수면이 부족합니다. 수면 시간을 늘리고 밤의 집중력을 활용한 업무 효율성을 높여보세요. 그러면 더욱 완벽한 야행형 인간이 될 수 있을 거예요.',
                
                '🛰️ 밤의 글로벌러 (ENTJ)': '야행형이면서 계획적이고 충분한 수면을 취하는 당신! 주중과 주말의 차이가 크지만 수면은 충분합니다. 다양한 시간대에서도 적응할 수 있는 유연성을 가지고 있네요. 글로벌 업무나 창작 활동에 적합한 수면 패턴입니다.',
                
                '😵‍💫 늦밤 생존러 (ISFJ)': '야행형이지만 수면 부족과 불규칙한 패턴으로 고민하는 당신! 계획적이지만 주중과 주말의 차이가 크고 수면도 부족합니다. 수면 시간을 늘리고 규칙적인 취침 시간을 만들어보세요. 그러면 밤의 집중력을 제대로 활용할 수 있을 거예요.',
                
                '🦉 새벽 감성러 (INFJ)': '자유로운 야행형 인간! 밤에 집중력이 높아지고 자연스러운 생체 리듬을 가지고 있습니다. 충분한 수면을 취하고 있어서 정말 건강한 야행형 수면 패턴을 가지고 있네요. 새벽의 고요함을 활용한 창작 활동이나 명상을 즐겨보세요!',
                
                '🥴 새벽 후회러 (ENFP)': '야행형이지만 수면 부족으로 고민하는 당신! 자유로운 수면 패턴과 자연스러운 생체 리듬을 가지고 있지만 수면이 부족합니다. 수면 시간을 늘리고 취침 시간을 조금 더 일정하게 맞춰보세요. 그러면 새벽의 감성을 제대로 느낄 수 있을 거예요.',
                
                '🎨 밤의 크리에이터 (INTP)': '야행형이면서 자유로운 영혼! 주중과 주말의 수면 패턴이 크게 다르지만 충분한 수면을 취하고 있습니다. 밤의 집중력과 창의성을 활용한 창작 활동에 도전해보세요. 예술가나 크리에이터에게 적합한 수면 패턴입니다.',
                
                '🔥 새벽 방황러 (ENFP)': '야행형이지만 수면 부족과 불규칙한 패턴으로 고민하는 당신! 자유로운 수면 패턴과 주중/주말 차이로 인해 수면이 부족합니다. 수면 시간을 늘리고 규칙적인 취침 시간을 만들어보세요. 그러면 밤의 창의성을 제대로 활용할 수 있을 거예요.'
            };

            // URL에서 수면 유형 가져오기
            const urlParams = new URLSearchParams(window.location.search);
            const sleepType = urlParams.get('type');
            
            // 수면 유형별 상세 설명이 있으면 사용, 없으면 축별 설명 조합
            if (typeDescriptions[sleepType]) {
                return typeDescriptions[sleepType];
            } else {
                return `${axisDescriptions[morning]} ${axisDescriptions[control]} ${axisDescriptions[rhythm]} ${axisDescriptions[recovery]}`;
            }
        }

        // '다시 검사하기' 버튼 클릭 시 index.html로 이동
        function retryTest() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>